{% extends "builder/base_site.html" %}
{% load i18n admin_static %}

{% block breadcrumbs %}
<ul class="breadcrumb">
<li><a href="{% url 'build_list' %}">{% trans 'Build list' %}</a> <span class="divider">/</span></li>
<li>{{ build.name }}</li>
</ul>
{% endblock %}

{% block content %}
<ul class="object-tools pull-right">
    <li>
        {% if build.has_components %}
        <a href="{% url "build_download_config_file" build.slug %}" class="btn">
        {% else %}
        <a href="javascript:void(0)" title="{% trans "No component available for download." %}" class="btn disabled">
        {% endif %}
            {% trans "Download config" %}
        </a>
    </li>
</ul>
<div id="buildDetailContainer" class="container-fluid">
    {% include "builder/build_detail_content.html" %}
</div>
{% endblock %}

{% block js_footer %}
<script type="text/javascript" charset="utf-8">
var container = $('#buildDetailContainer');
var updateProcess = function() {
    $.get('{% url "build_detail_content" build.slug %}', {}, function(html) {
        container.html(html);
    });
}
setInterval(updateProcess, 1000);
</script>
{% endblock %}
